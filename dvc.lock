schema: '2.0'
stages:
  import:
    cmd: python src/data/import_raw_data.py
    deps:
    - path: src/data/check_structure.py
      hash: md5
      md5: fc48843ae973832ec0ded6b11e776864
      size: 1166
    - path: src/data/import_raw_data.py
      hash: md5
      md5: b92240659f58548390a454c9bb52ed40
      size: 2163
    outs:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
  preprocess:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
    outs:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 29d1625bcd990b1a14a226f3935977ee
      size: 2035047
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 73df810c3c7ff9593b9bb3a9c3a9076c
      size: 4748291
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 79a4f4b8c3122b391aaa8643ace9ff6b
      size: 38841
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: e33603dd6df06aa64af50f1c97c10081
      size: 90617
  train_rfc:
    cmd: python src/models/train_random_forests.py
    deps:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 29d1625bcd990b1a14a226f3935977ee
      size: 2035047
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 73df810c3c7ff9593b9bb3a9c3a9076c
      size: 4748291
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 79a4f4b8c3122b391aaa8643ace9ff6b
      size: 38841
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: e33603dd6df06aa64af50f1c97c10081
      size: 90617
    outs:
    - path: metrics/RandomForests_scores.json
      hash: md5
      md5: 636420f0b959fa554131f85d12c92844
      size: 71
    - path: mlruns/RandomForests/
      hash: md5
      md5: b224d796e31f93eb3024d1bfc65e4cea.dir
      size: 217
      nfiles: 1
