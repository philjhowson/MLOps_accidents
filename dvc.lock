schema: '2.0'
stages:
  import:
    cmd: python src/data/import_raw_data.py
    deps:
    - path: src/data/check_structure.py
      hash: md5
      md5: 027528e78aa4fd90976de24dd6c4e072
      size: 391
    - path: src/data/import_raw_data.py
      hash: md5
      md5: 8a03edfc17cc0b605014dbf33447f111
      size: 2169
    outs:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
  preprocess:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
    - path: src/data/make_dataset.py
      hash: md5
      md5: bf07a26a679a1beb80456474ed1befab
      size: 6483
    outs:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 29d1625bcd990b1a14a226f3935977ee
      size: 2035047
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 73df810c3c7ff9593b9bb3a9c3a9076c
      size: 4748291
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 79a4f4b8c3122b391aaa8643ace9ff6b
      size: 38841
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: e33603dd6df06aa64af50f1c97c10081
      size: 90617
  train_rfc:
    cmd: python src/models/train_random_forests.py
    deps:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 29d1625bcd990b1a14a226f3935977ee
      size: 2035047
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 73df810c3c7ff9593b9bb3a9c3a9076c
      size: 4748291
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 79a4f4b8c3122b391aaa8643ace9ff6b
      size: 38841
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: e33603dd6df06aa64af50f1c97c10081
      size: 90617
    - path: src/models/train_random_forests.py
      hash: md5
      md5: 2b378e6b54c22f9eb8a7ba15a5dc643c
      size: 2714
    outs:
    - path: metrics/RandomForests_scores.json
      hash: md5
      md5: 52b605909ee35d672454e94f65b39c5b
      size: 72
    - path: mlruns/RandomForests/
      hash: md5
      md5: b10a7c66d6abb01383b6ee5de8f369a6.dir
      size: 217
      nfiles: 1
    - path: models/best_random_forests.joblib
      hash: md5
      md5: 2ab35c44b08aa78dda58e623c4857558
      size: 242603369
