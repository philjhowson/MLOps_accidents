schema: '2.0'
stages:
  import:
    cmd: python src/data/import_raw_data.py
    deps:
    - path: src/data/check_structure.py
      hash: md5
      md5: 027528e78aa4fd90976de24dd6c4e072
      size: 391
    - path: src/data/import_raw_data.py
      hash: md5
      md5: 8a03edfc17cc0b605014dbf33447f111
      size: 2169
    outs:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
  preprocess:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
    - path: src/data/make_dataset.py
      hash: md5
      md5: 6ffbb09b64b05da02a8a06085ad5f8e9
      size: 6622
    outs:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: dc6728eae3f3b6a8bf38b7d8a1d160f4
      size: 2053952
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 4faa79eb522ef4e17a4a894636b26d56
      size: 4793699
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 8152be065c3c96dd89e740026b29b6e5
      size: 58254
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 56ba69f47d55c5b5045499654d43ba7d
      size: 135918
  train_rfc:
    cmd: python src/models/train_random_forests.py
    deps:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: dc6728eae3f3b6a8bf38b7d8a1d160f4
      size: 2053952
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: 4faa79eb522ef4e17a4a894636b26d56
      size: 4793699
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: 8152be065c3c96dd89e740026b29b6e5
      size: 58254
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 56ba69f47d55c5b5045499654d43ba7d
      size: 135918
    - path: src/models/train_random_forests.py
      hash: md5
      md5: b774a6e3367608f734f65bd5e436f05a
      size: 2796
    outs:
    - path: metrics/RandomForests_scores.json
      hash: md5
      md5: 2d83e4749029c70f7af747715c9a36b0
      size: 72
    - path: mlruns/RandomForests/
      hash: md5
      md5: 6425f2e3cb1412f67ca0560c2dcf4bf9.dir
      size: 208
      nfiles: 1
    - path: models/best_random_forests.joblib
      hash: md5
      md5: 7161c23ff2dfc1ddf749bf0d88501a4b
      size: 182096457
