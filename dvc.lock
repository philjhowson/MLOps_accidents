schema: '2.0'
stages:
  import:
    cmd: python src/data/import_raw_data.py
    deps:
    - path: src/data/check_structure.py
      hash: md5
      md5: 027528e78aa4fd90976de24dd6c4e072
      size: 391
    - path: src/data/import_raw_data.py
      hash: md5
      md5: 8a03edfc17cc0b605014dbf33447f111
      size: 2169
    outs:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
  preprocess:
    cmd: python src/data/make_dataset.py
    deps:
    - path: data/raw/caracteristiques-2023.csv
      hash: md5
      md5: e35bf80bbc0fde85854b8b070744ea3c
      size: 6604415
    - path: data/raw/lieux-2023.csv
      hash: md5
      md5: 4f3d5512c25ff1a130142ae9e7596fe2
      size: 7179735
    - path: data/raw/usagers-2023.csv
      hash: md5
      md5: 4f93ff7e35e8e683c35be32808670633
      size: 14944539
    - path: data/raw/vehicules-2023.csv
      hash: md5
      md5: b830347a02c375a665320dd77315760a
      size: 6806168
    - path: src/data/make_dataset.py
      hash: md5
      md5: d8c520571dcfe2786a7ddcb37a5efa69
      size: 6641
    outs:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 261c5566bbc5a93616e019a0e9687434
      size: 2054466
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: d9080b073db8e082a73dc80685d36a2a
      size: 4793598
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: f07455be40b39de2d874ff576ecc1474
      size: 58260
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 3bfec8edc81d41052d45d6182fbc61df
      size: 135924
  train_rfc:
    cmd: python src/models/train_random_forests.py
    deps:
    - path: data/preprocessed/X_test.csv
      hash: md5
      md5: 261c5566bbc5a93616e019a0e9687434
      size: 2054466
    - path: data/preprocessed/X_train.csv
      hash: md5
      md5: d9080b073db8e082a73dc80685d36a2a
      size: 4793598
    - path: data/preprocessed/y_test.csv
      hash: md5
      md5: f07455be40b39de2d874ff576ecc1474
      size: 58260
    - path: data/preprocessed/y_train.csv
      hash: md5
      md5: 3bfec8edc81d41052d45d6182fbc61df
      size: 135924
    - path: src/models/train_random_forests.py
      hash: md5
      md5: 22636cdd15f287dfc7db0ed7639645f9
      size: 3795
    outs:
    - path: metrics/RandomForests_scores.json
      hash: md5
      md5: d4a7408a74dbfbfe5ac2a48759f25a1a
      size: 72
    - path: mlruns/RandomForests/
      hash: md5
      md5: 3b160fe85b2eff3a12cc61963a8b4397.dir
      size: 242726649
      nfiles: 24
    - path: models/best_random_forests.joblib
      hash: md5
      md5: 500a4849dae201d064ccfb7500909ad5
      size: 242734217
